<Window x:Class="PCOptimizer.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Pulse — PC Optimizer" Height="640" Width="980" WindowStartupLocation="CenterScreen"
        Background="#FFFFFF" ResizeMode="CanResizeWithGrip">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="240"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Sidebar -->
        <Border Grid.Column="0" Background="#111827">
            <StackPanel>
                <TextBlock Text="Pulse" Margin="16,20,16,6" FontSize="24" FontWeight="Bold" Foreground="White"/>
                <TextBlock Text="PC Optimizer" Margin="16,0,16,24" Foreground="#C7D2FE"/>
                <Button Content="Dashboard" Tag="0" Click="Nav_Click" Background="#1F2937"/>
                <Button Content="Cleaner" Tag="1" Click="Nav_Click" Background="#1F2937"/>
                <Button Content="Startup" Tag="2" Click="Nav_Click" Background="#1F2937"/>
                <Button Content="Performance" Tag="3" Click="Nav_Click" Background="#1F2937"/>
                <Button Content="About" Tag="4" Click="Nav_Click" Background="#1F2937"/>
                <StackPanel Margin="12" VerticalAlignment="Bottom">
                    <TextBlock Text="Admin mode required for full features." Foreground="#9CA3AF" TextWrapping="Wrap"/>
                </StackPanel>
            </StackPanel>
        </Border>

        <!-- Content -->
        <Grid Grid.Column="1" Margin="12">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <TextBlock x:Name="TitleBlock" Text="Dashboard" FontSize="22" FontWeight="Bold" Margin="6,0,6,8"/>

            <Grid Grid.Row="1">
                <TabControl x:Name="Tabs" Background="Transparent" BorderThickness="0">
                    <!-- Dashboard -->
                    <TabItem Header="Dashboard">
                        <Grid Margin="10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <Border Background="{StaticResource CardBrush}" CornerRadius="14" Padding="16" Margin="8" Grid.ColumnSpan="2">
                                <StackPanel>
                                    <TextBlock Text="One‑Click Optimize" FontSize="18" FontWeight="Bold"/>
                                    <TextBlock x:Name="StatusBlock" Text="Ready." Margin="0,4,0,10"/>
                                    <ProgressBar x:Name="MainProgress" Height="10" Minimum="0" Maximum="100"/>
                                    <WrapPanel Margin="0,12,0,0">
                                        <Button Content="Run Optimize" Click="RunOptimize_Click"/>
                                        <Button Content="Open Logs" Click="OpenLogs_Click" Background="#6B7280"/>
                                    </WrapPanel>
                                </StackPanel>
                            </Border>

                            <Border Background="{StaticResource CardBrush}" CornerRadius="14" Padding="16" Margin="8" Grid.Row="1">
                                <StackPanel>
                                    <TextBlock Text="System Info" FontWeight="SemiBold"/>
                                    <TextBlock x:Name="SysInfoText" TextWrapping="Wrap"/>
                                </StackPanel>
                            </Border>

                            <Border Background="{StaticResource CardBrush}" CornerRadius="14" Padding="16" Margin="8" Grid.Row="1" Grid.Column="1">
                                <StackPanel>
                                    <TextBlock Text="Performance Mode" FontWeight="SemiBold"/>
                                    <WrapPanel>
                                        <Button Content="Balanced" Click="SetBalanced_Click" Background="#6B7280"/>
                                        <Button Content="High Performance" Click="SetHighPerf_Click"/>
                                    </WrapPanel>
                                </StackPanel>
                            </Border>
                        </Grid>
                    </TabItem>

                    <!-- Cleaner -->
                    <TabItem Header="Cleaner">
                        <StackPanel Margin="10">
                            <WrapPanel>
                                <Button Content="Clear Temp" Click="ClearTemp_Click"/>
                                <Button Content="Clear Browser Caches" Click="ClearBrowser_Click"/>
                                <Button Content="Clear Windows Update Cache" Click="ClearWU_Click"/>
                                <Button Content="Empty Recycle Bin" Click="EmptyBin_Click"/>
                            </WrapPanel>
                            <TextBlock x:Name="CleanerResult" Margin="6" TextWrapping="Wrap"/>
                        </StackPanel>
                    </TabItem>

                    <!-- Startup -->
                    <TabItem Header="Startup">
                        <Grid Margin="10">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <ListView x:Name="StartupList" Grid.Row="0">
                                <ListView.View>
                                    <GridView>
                                        <GridViewColumn Header="Name" DisplayMemberBinding="{Binding Name}" Width="220"/>
                                        <GridViewColumn Header="Location" DisplayMemberBinding="{Binding Location}" Width="150"/>
                                        <GridViewColumn Header="Command" DisplayMemberBinding="{Binding Command}" Width="440"/>
                                        <GridViewColumn Header="Enabled" DisplayMemberBinding="{Binding Enabled}" Width="70"/>
                                    </GridView>
                                </ListView.View>
                            </ListView>
                            <WrapPanel Grid.Row="1" Margin="0,8,0,0">
                                <Button Content="Refresh" Click="StartupRefresh_Click" Background="#6B7280"/>
                                <Button Content="Disable Selected" Click="StartupDisable_Click"/>
                                <Button Content="Enable Selected" Click="StartupEnable_Click"/>
                            </WrapPanel>
                        </Grid>
                    </TabItem>

                    <!-- Performance -->
                    <TabItem Header="Performance">
                        <StackPanel Margin="10">
                            <WrapPanel>
                                <Button Content="Free RAM" Click="FreeRAM_Click"/>
                                <Button Content="Kill Background Bloat (Safe)" Click="KillBloat_Click" Background="#EF4444"/>
                            </WrapPanel>
                            <TextBlock x:Name="PerfResult" Margin="6" TextWrapping="Wrap"/>
                        </StackPanel>
                    </TabItem>

                    <!-- About -->
                    <TabItem Header="About">
                        <StackPanel Margin="12">
                            <TextBlock Text="Pulse — PC Optimizer" FontSize="18" FontWeight="Bold"/>
                            <TextBlock Text="A clean, safe Windows 10/11 optimization toolkit." Margin="0,4,0,0"/>
                            <TextBlock Text="Features: Cleanup, Startup Manager, RAM Optimizer, Power Plan toggle." Margin="0,2,0,0"/>
                        </StackPanel>
                    </TabItem>

                </TabControl>
            </Grid>

            <TextBlock Grid.Row="2" Text="© 2025 Pulse" HorizontalAlignment="Right" Margin="0,8,8,0" Foreground="#6B7280"/>
        </Grid>
    </Grid>
</Window>