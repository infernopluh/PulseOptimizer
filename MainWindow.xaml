<Window x:Class="PCOptimizer.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Pulse — PC Optimizer" Height="680" Width="1080" WindowStartupLocation="CenterScreen"
        Background="{StaticResource BgMain}" ResizeMode="CanResizeWithGrip">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="260"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Sidebar -->
        <Border Grid.Column="0" Background="{StaticResource SidebarBg}">
            <DockPanel>
                <StackPanel DockPanel.Dock="Top" Margin="12">
                    <TextBlock x:Name="TitleBlock" Text="Pulse" Margin="4,20,4,0" FontSize="26" FontWeight="Bold" />
                    <TextBlock Text="PC Optimizer" Margin="4,2,4,16" Foreground="{StaticResource TextSecondary}"/>
                    <Separator Margin="4,8"/>
                    <Button Content="Dashboard" Tag="0" Click="Nav_Click" Style="{StaticResource SidebarButton}"/>
                    <Button Content="Cleaner" Tag="1" Click="Nav_Click" Style="{StaticResource SidebarButton}"/>
                    <Button Content="Startup" Tag="2" Click="Nav_Click" Style="{StaticResource SidebarButton}"/>
                    <Button Content="Performance" Tag="3" Click="Nav_Click" Style="{StaticResource SidebarButton}"/>
                    <Button Content="About" Tag="4" Click="Nav_Click" Style="{StaticResource SidebarButton}"/>
                </StackPanel>
                <TextBlock Text="© 2025 Pulse" Foreground="{StaticResource Muted}" DockPanel.Dock="Top" Height="100"/>
            </DockPanel>
        </Border>

        <!-- Main -->
        <Grid Grid.Column="1" Margin="8,12,12,12">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <TextBlock Text="Dashboard" FontSize="22" FontWeight="Bold" Margin="8,0,0,8" />

            <TabControl x:Name="Tabs" Grid.Row="1" Background="{StaticResource BgMain}" BorderThickness="0">
                <!-- Dashboard -->
                <TabItem Header="Dashboard">
                    <ScrollViewer>
                        <WrapPanel Margin="4">
                            <!-- Optimize card -->
                            <Border Style="{StaticResource Card}" Width="330">
                                <StackPanel>
                                    <TextBlock Text="One‑Click Optimize" FontSize="16" FontWeight="Bold"/>
                                    <TextBlock Text="Run the full safe routine: clean caches, empty bin, optimize RAM." Foreground="{StaticResource TextSecondary}" Margin="0,6,0,10"/>
                                    <ProgressBar x:Name="MainProgress" Minimum="0" Maximum="100"/>
                                    <TextBlock x:Name="StatusBlock" Text="Idle." Margin="0,6,0,0" Foreground="{StaticResource TextSecondary}"/>
                                    <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                                        <Button Content="Run Optimize" Click="RunOptimize_Click" Style="{StaticResource DangerButton}"/>
                                        <Button Content="Open Logs" Click="OpenLogs_Click" Style="{StaticResource SecondaryButton}"/>
                                    </StackPanel>
                                </StackPanel>
                            </Border>

                            <!-- Power card -->
                            <Border Style="{StaticResource Card}" Width="330">
                                <StackPanel>
                                    <TextBlock Text="Power Plan" FontSize="16" FontWeight="Bold"/>
                                    <TextBlock Text="Quickly switch between Balanced and High Performance." Foreground="{StaticResource TextSecondary}" Margin="0,6,0,10"/>
                                    <StackPanel Orientation="Horizontal">
                                        <Button Content="Balanced" Click="SetBalanced_Click" Style="{StaticResource SecondaryButton}"/>
                                        <Button Content="High Performance" Click="SetHighPerf_Click"/>
                                    </StackPanel>
                                </StackPanel>
                            </Border>

                            <!-- System info -->
                            <Border Style="{StaticResource Card}" Width="680">
                                <StackPanel>
                                    <TextBlock Text="System Info" FontSize="16" FontWeight="Bold"/>
                                    <TextBlock x:Name="SysInfoText" Text="Loading..." TextWrapping="Wrap" Margin="0,6,0,0" Foreground="{StaticResource TextSecondary}"/>
                                </StackPanel>
                            </Border>
                        </WrapPanel>
                    </ScrollViewer>
                </TabItem>

                <!-- Cleaner -->
                <TabItem Header="Cleaner">
                    <ScrollViewer>
                        <WrapPanel Margin="4">
                            <Border Style="{StaticResource Card}" Width="680">
                                <StackPanel>
                                    <TextBlock Text="Windows Cleanup" FontSize="16" FontWeight="Bold"/>
                                    <TextBlock Text="Targeted cleaners for junk files and caches." Foreground="{StaticResource TextSecondary}" Margin="0,6,0,10"/>
                                    <WrapPanel>
                                        <Button Content="Clear Temp" Click="ClearTemp_Click"/>
                                        <Button Content="Clear Browser Caches" Click="ClearBrowser_Click"/>
                                        <Button Content="Clear Windows Update Cache" Click="ClearWU_Click"/>
                                        <Button Content="Empty Recycle Bin" Click="EmptyBin_Click" Style="{StaticResource DangerButton}"/>
                                    </WrapPanel>
                                    <TextBlock x:Name="CleanerResult" Text="No actions yet." Margin="0,8,0,0" Foreground="{StaticResource TextSecondary}"/>
                                </StackPanel>
                            </Border>
                        </WrapPanel>
                    </ScrollViewer>
                </TabItem>

                <!-- Startup -->
                <TabItem Header="Startup">
                    <Grid Margin="4">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <StackPanel Orientation="Horizontal" Grid.Row="0" Margin="8">
                            <Button Content="Refresh" Click="StartupRefresh_Click" Style="{StaticResource SecondaryButton}"/>
                            <Button Content="Disable Selected" Click="StartupDisable_Click" Style="{StaticResource DangerButton}"/>
                            <Button Content="Enable Selected" Click="StartupEnable_Click"/>
                        </StackPanel>

                        <Border Style="{StaticResource Card}" Grid.Row="1" Margin="0,0,4,0">
                            <StackPanel>
                                <TextBlock Text="Startup Items" FontSize="16" FontWeight="Bold"/>
                                <ListBox x:Name="StartupList" Margin="0,8,0,0"/>
                            </StackPanel>
                        </Border>
                    </Grid>
                </TabItem>

                <!-- Performance -->
                <TabItem Header="Performance">
                    <ScrollViewer>
                        <WrapPanel Margin="4">
                            <Border Style="{StaticResource Card}" Width="680">
                                <StackPanel>
                                    <TextBlock Text="Performance Boost" FontSize="16" FontWeight="Bold"/>
                                    <TextBlock Text="Free memory and safely stop background bloat." Foreground="{StaticResource TextSecondary}" Margin="0,6,0,10"/>
                                    <WrapPanel>
                                        <Button Content="Free RAM" Click="FreeRAM_Click"/>
                                        <Button Content="Kill Background Bloat (Safe)" Click="KillBloat_Click" Style="{StaticResource DangerButton}"/>
                                    </WrapPanel>
                                    <TextBlock x:Name="PerfResult" Text="No actions yet." Margin="0,8,0,0" Foreground="{StaticResource TextSecondary}"/>
                                </StackPanel>
                            </Border>
                        </WrapPanel>
                    </ScrollViewer>
                </TabItem>

                <!-- About -->
                <TabItem Header="About">
                    <StackPanel Margin="12">
                        <TextBlock Text="Pulse — PC Optimizer" FontSize="18" FontWeight="Bold"/>
                        <TextBlock Text="A clean, safe Windows 10/11 optimization toolkit." Margin="0,4,0,0" Foreground="{StaticResource TextSecondary}"/>
                        <TextBlock Text="Features: Cleanup, Startup Manager, RAM Optimizer, Power Plan toggle." Margin="0,2,0,0" Foreground="{StaticResource TextSecondary}"/>
                    </StackPanel>
                </TabItem>
            </TabControl>
        </Grid>
    </Grid>
</Window>
